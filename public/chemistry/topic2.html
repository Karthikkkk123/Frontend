
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ideal Gas Law</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: transparent;
            color: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1, p {
            text-align: center;
            color: #f0f0f0;
        }
        .chamber-container {
            position: relative;
            width: 400px;
            height: 400px;
            border: 2px solid #ccc;
            margin: 20px auto;
            background-color: #1a202c;
            border-radius: 8px;
        }
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f56565;
            border-radius: 50%;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .control {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        label {
            margin-bottom: 5px;
        }
        input[type="range"] {
            width: 150px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ideal Gas Law (PV=nRT)</h1>
        <div id="chamber" class="chamber-container"></div>
        <div class="controls">
            <div class="control">
                <label for="temp">Temperature (K): <span id="tempValue">298</span></label>
                <input type="range" id="temp" min="100" max="600" value="298">
            </div>
            <div class="control">
                <label for="moles">Moles (n): <span id="molesValue">50</span></label>
                <input type="range" id="moles" min="10" max="100" value="50">
            </div>
             <div class="control">
                <label for="pressure">Volume (L): <span id="volumeValue">22.4</span></label>
                <input type="range" id="volume" min="5" max="45" value="22.4" step="0.1">
            </div>
        </div>
        <p>Pressure: <span id="pressureValue">1.00</span> atm</p>
    </div>

    <script>
        const chamber = document.getElementById('chamber');
        const tempInput = document.getElementById('temp');
        const molesInput = document.getElementById('moles');
        const volumeInput = document.getElementById('volume');

        const tempValue = document.getElementById('tempValue');
        const molesValue = document.getElementById('molesValue');
        const volumeValue = document.getElementById('volumeValue');
        const pressureValue = document.getElementById('pressureValue');

        const R = 0.0821; // Ideal gas constant
        let particles = [];

        function updateValues() {
            tempValue.textContent = tempInput.value;
            molesValue.textContent = molesInput.value;
            volumeValue.textContent = volumeInput.value;

            const n = parseFloat(molesInput.value) / 50; // Scale for viz
            const T = parseFloat(tempInput.value);
            const V = parseFloat(volumeInput.value);
            const P = (n * R * T) / V;
            pressureValue.textContent = P.toFixed(2);
            
            createParticles();
            updateParticleSpeed();
        }

        function createParticles() {
            const numParticles = parseInt(molesInput.value);
            chamber.innerHTML = '';
            particles = [];
            for (let i = 0; i < numParticles; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                chamber.appendChild(p);
                particles.push({
                    element: p,
                    x: Math.random() * 390,
                    y: Math.random() * 390,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2
                });
            }
        }
        
        function updateParticleSpeed() {
             const T = parseFloat(tempInput.value);
             const speedFactor = Math.sqrt(T) / 15;
             particles.forEach(p => {
                const currentSpeed = Math.sqrt(p.vx**2 + p.vy**2);
                if(currentSpeed > 0) {
                    p.vx = (p.vx / currentSpeed) * speedFactor * (Math.random() * 0.4 + 0.8);
                    p.vy = (p.vy / currentSpeed) * speedFactor * (Math.random() * 0.4 + 0.8);
                }
             });
        }

        function animate() {
            particles.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;

                if (p.x < 0 || p.x > 390) p.vx *= -1;
                if (p.y < 0 || p.y > 390) p.vy *= -1;

                p.element.style.left = `${p.x}px`;
                p.element.style.top = `${p.y}px`;
            });
            requestAnimationFrame(animate);
        }

        tempInput.addEventListener('input', updateValues);
        molesInput.addEventListener('input', updateValues);
        volumeInput.addEventListener('input', updateValues);

        updateValues();
        animate();
    </script>
</body>
</html>

    