<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titration Simulation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 2rem;
            background-color: #f0f4f8;
            color: #333;
        }
        #simulation-container {
            position: relative;
            width: 800px;
            height: 500px;
            background-color: #fff;
            border: 2px solid #ccc;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 5rem;
            padding-bottom: 2rem;
        }
        #burette {
            width: 40px;
            height: 450px;
            border: 2px solid #333;
            border-top: none;
            position: relative;
            background: linear-gradient(to top, #CF9FFF, #CF9FFF);
            background-size: 100% 50%;
            background-repeat: no-repeat;
            background-position: bottom;
        }
        #burette-liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #A020F0; /* Titrant color */
            transition: height 0.2s linear;
        }
        .tick {
            position: absolute;
            left: -10px;
            width: 8px;
            height: 1px;
            background: #333;
        }
        .tick-label {
            position: absolute;
            left: -35px;
            font-size: 10px;
        }
        #flask {
            width: 150px;
            height: 200px;
            position: relative;
        }
        #flask-base {
            width: 150px;
            height: 150px;
            border: 2px solid #333;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute;
            bottom: 0;
            background-color: rgba(173, 216, 230, 0.5); /* Analyte */
            transition: background-color 0.5s;
        }
        #flask-neck {
            width: 40px;
            height: 80px;
            border: 2px solid #333;
            border-bottom: none;
            position: absolute;
            bottom: 120px;
            left: 55px;
            background-color: rgba(173, 216, 230, 0.5);
            transition: background-color 0.5s;
        }
        #controls {
            width: 800px;
            padding: 1.5rem;
            margin-top: 1rem;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        label { font-weight: bold; }
        .output-value { font-weight: normal; color: #3a87ad; }
    </style>
</head>
<body>
    <h1>Acid-Base Titration</h1>
    <div id="simulation-container">
        <div id="burette-stand">
            <div id="burette">
                 <div id="burette-liquid" style="height: 100%;"></div>
            </div>
        </div>
        <div id="flask">
            <div id="flask-base"></div>
            <div id="flask-neck"></div>
        </div>
    </div>
    <div id="controls">
        <label for="volume">Volume Added: <span id="volumeValue" class="output-value">0.0 mL</span></label>
        <input type="range" id="volume" min="0" max="50" value="0" step="0.1">
        <button id="resetButton" style="margin-top: 1rem;">Reset</button>
    </div>

    <script>
        const volumeInput = document.getElementById('volume');
        const volumeValueSpan = document.getElementById('volumeValue');
        const buretteLiquid = document.getElementById('burette-liquid');
        const flaskBase = document.getElementById('flask-base');
        const flaskNeck = document.getElementById('flask-neck');
        const resetButton = document.getElementById('resetButton');
        const burette = document.getElementById('burette');

        const equivalencePoint = 25.0; // mL
        const totalBuretteHeight = burette.clientHeight;

        for(let i = 0; i <= 50; i += 5) {
            const tick = document.createElement('div');
            tick.className = 'tick';
            tick.style.top = `${(i/50) * 100}%`;
            burette.appendChild(tick);
            const label = document.createElement('span');
            label.className = 'tick-label';
            label.textContent = 50 - i;
            label.style.top = `calc(${(i/50) * 100}% - 5px)`;
            burette.appendChild(label);
        }

        function updateTitration() {
            const volume = parseFloat(volumeInput.value);
            volumeValueSpan.textContent = `${volume.toFixed(1)} mL`;
            
            // Burette liquid level goes down as volume is added
            const liquidHeightPercent = 100 - (volume / 50 * 100);
            buretteLiquid.style.height = `${liquidHeightPercent}%`;
            
            // Flask color change
            const diff = Math.abs(volume - equivalencePoint);
            if (diff < 0.2) { // At equivalence point
                 flaskBase.style.backgroundColor = 'rgba(255, 182, 193, 0.8)'; // Pink
                 flaskNeck.style.backgroundColor = 'rgba(255, 182, 193, 0.8)';
            } else if (volume > equivalencePoint) { // Past equivalence point
                 flaskBase.style.backgroundColor = 'rgba(255, 105, 180, 1.0)'; // Hot pink
                 flaskNeck.style.backgroundColor = 'rgba(255, 105, 180, 1.0)';
            }
             else { // Before equivalence point
                 flaskBase.style.backgroundColor = 'rgba(173, 216, 230, 0.5)'; // Light blue
                 flaskNeck.style.backgroundColor = 'rgba(173, 216, 230, 0.5)';
            }
        }
        
        function reset() {
            volumeInput.value = 0;
            updateTitration();
        }

        volumeInput.addEventListener('input', updateTitration);
        resetButton.addEventListener('click', reset);
        
        reset();
    </script>
</body>
</html>
