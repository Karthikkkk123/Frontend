<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fourier Series Square Wave</title>
    <style>
        body {
            background-color: transparent;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            background-color: #2c2c2c;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
            border: 1px solid #444;
            text-align: center;
            width: 90%;
            max-width: 800px;
        }
        h1 {
            color: #6f42c1;
            font-weight: 300;
            font-size: 2rem;
            margin-bottom: 2rem;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            align-items: center;
        }
        label {
            font-size: 0.9rem;
            color: #ccc;
        }
        input[type="range"] {
            width: 250px;
        }
        span {
            font-weight: bold;
            color: #fff;
            background-color: #444;
            padding: 4px 8px;
            border-radius: 4px;
        }
        canvas {
            background-color: #ffffff;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Fourier Series: Square Wave</h1>
        <div class="controls">
            <label for="terms">Number of Terms (n)</label>
            <input type="range" id="terms" min="1" max="50" value="1" step="1">
            <span id="termsValue">1</span>
        </div>
        <canvas id="fourierCanvas" width="750" height="400"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('fourierCanvas');
        const ctx = canvas.getContext('2d');
        const termsSlider = document.getElementById('terms');
        const termsValue = document.getElementById('termsValue');

        let time = 0;
        
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const terms = parseInt(termsSlider.value);
            termsValue.textContent = terms;
            
            const w = 250;
            const h = 400;
            
            ctx.save();
            ctx.translate(w / 4, h / 2);

            let x = 0;
            let y = 0;
            
            for (let i = 0; i < terms; i++) {
                const prev_x = x;
                const prev_y = y;
                const n = 2 * i + 1;
                const radius = 100 * (4 / (n * Math.PI));
                
                ctx.strokeStyle = 'rgba(111, 66, 193, 0.5)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(prev_x, prev_y, radius, 0, 2 * Math.PI);
                ctx.stroke();
                
                x += radius * Math.cos(n * time);
                y += radius * Math.sin(n * time);
                
                ctx.strokeStyle = '#6f42c1';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(prev_x, prev_y);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
            
            ctx.translate(w, 0);
            ctx.lineTo(0, y);
            ctx.stroke();

            ctx.restore();
            
            time -= 0.02;
            requestAnimationFrame(draw);
        }

        termsSlider.addEventListener('input', draw);
        draw();
    </script>
</body>
</html>
